<template>
  <el-container class="container">
    <el-aside class="el-aside" ref="aside" :style="{ width: asideWidth + 'px' }">
      <Navbar />
<!--      <div style="text-align: center; margin-top: auto;">-->
<!--        <svg class="icon" width="100%" height="80" viewBox="0 0 503 115" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--          <path class="p" d="M469.026 38.88L491.17 26.08C494.071 24.3733 496.631 24.16 498.85 25.44C501.069 26.72 502.178 29.0667 502.178 32.48V45.28L491.17 51.68V38.88L469.026 51.68V100.32L491.17 87.52V74.72L502.178 68.32V81.12C502.178 83.3387 501.666 85.728 500.642 88.288C499.618 90.848 498.253 93.2373 496.546 95.456C494.925 97.5893 493.133 99.2107 491.17 100.32L469.026 113.12C466.039 114.827 463.437 115.04 461.218 113.76C458.999 112.48 457.89 110.133 457.89 106.72V58.08C457.89 55.776 458.402 53.3867 459.426 50.912C460.45 48.352 461.815 46.0053 463.522 43.872C465.229 41.6533 467.063 39.9893 469.026 38.88ZM502.178 68.32L491.17 74.72L480.034 68.32L491.17 61.92L502.178 68.32ZM491.17 74.72V87.52L480.034 81.12V68.32L491.17 74.72ZM491.17 87.52L469.026 100.32L457.89 93.92L480.034 81.12L491.17 87.52ZM491.17 38.88V51.68L480.034 45.28V32.48L491.17 38.88ZM498.85 25.44C496.631 24.16 494.071 24.3733 491.17 26.08L469.026 38.88C467.063 39.9893 465.229 41.6533 463.522 43.872C461.815 46.0053 460.45 48.352 459.426 50.912C458.402 53.3867 457.89 55.776 457.89 58.08V106.72C457.89 110.133 458.999 112.48 461.218 113.76L450.082 107.36C447.863 106.08 446.754 103.733 446.754 100.32V51.68C446.754 49.376 447.266 46.9867 448.29 44.512C449.314 41.952 450.679 39.6053 452.386 37.472C454.093 35.2533 455.927 33.5893 457.89 32.48L480.034 19.68C483.021 17.9733 485.623 17.76 487.842 19.04L498.85 25.44Z" fill="white"/>-->
<!--          <path class="p" d="M388.83 92V53.6L372.19 63.2V50.4L416.478 24.8V37.6L399.838 47.2V85.6L416.478 76V88.8L372.19 114.4V101.6L388.83 92ZM394.334 26.08C392.115 27.36 390.238 27.5733 388.702 26.72C387.251 25.8667 386.526 24.16 386.526 21.6C386.526 19.04 387.251 16.48 388.702 13.92C390.238 11.36 392.115 9.44 394.334 8.16C396.553 6.88 398.387 6.66666 399.838 7.52C401.374 8.37333 402.142 10.08 402.142 12.64C402.142 15.2 401.374 17.76 399.838 20.32C398.387 22.88 396.553 24.8 394.334 26.08ZM388.83 92L372.19 101.6L361.054 95.2L377.694 85.6L388.83 92ZM372.19 101.6V114.4L361.054 108V95.2L372.19 101.6ZM416.478 76L399.838 85.6L388.83 79.2L405.47 69.6L416.478 76ZM388.83 53.6V92L377.694 85.6V47.2L388.83 53.6ZM416.478 24.8L372.19 50.4L361.054 44L405.47 18.4L416.478 24.8ZM372.19 50.4V63.2L361.054 56.8V44L372.19 50.4ZM399.966 7.52C398.43 6.66666 396.553 6.88 394.334 8.16C392.115 9.44 390.238 11.36 388.702 13.92C387.251 16.48 386.526 19.04 386.526 21.6C386.526 24.16 387.294 25.8667 388.83 26.72L377.694 20.32C376.243 19.4667 375.518 17.76 375.518 15.2C375.518 12.64 376.243 10.08 377.694 7.52C379.145 4.95999 381.022 3.03999 383.326 1.75999C385.545 0.479996 387.379 0.266663 388.83 1.12L399.966 7.52Z" fill="white"/>-->
<!--          <path class="p" d="M297.626 82.4C294.639 84.1067 292.037 84.32 289.818 83.04C287.599 81.76 286.49 79.4133 286.49 76V63.2C286.49 60.896 287.002 58.5067 288.026 56.032C289.05 53.472 290.415 51.1253 292.122 48.992C293.829 46.7733 295.663 45.1093 297.626 44L330.778 24.8V37.6L297.626 56.8V69.6L319.77 56.8C322.671 55.0933 325.231 54.88 327.45 56.16C329.669 57.44 330.778 59.7867 330.778 63.2V76C330.778 78.2187 330.266 80.608 329.242 83.168C328.218 85.728 326.853 88.1173 325.146 90.336C323.525 92.4693 321.733 94.0907 319.77 95.2L286.49 114.4V101.6L319.77 82.4V69.6L297.626 82.4ZM319.77 69.6V82.4L308.634 76V63.2L319.77 69.6ZM319.77 82.4L286.49 101.6L275.354 95.2L308.634 76L319.77 82.4ZM286.49 101.6V114.4L275.354 108V95.2L286.49 101.6ZM327.45 56.16C325.231 54.88 322.671 55.0933 319.77 56.8L297.626 69.6L286.49 63.2L308.634 50.4C311.621 48.6933 314.223 48.48 316.442 49.76L327.45 56.16ZM330.778 24.8L297.626 44C295.663 45.1093 293.829 46.7733 292.122 48.992C290.415 51.1253 289.05 53.472 288.026 56.032C287.002 58.5067 286.49 60.896 286.49 63.2V76C286.49 79.4133 287.599 81.76 289.818 83.04L278.682 76.64C276.463 75.36 275.354 73.0133 275.354 69.6V56.8C275.354 54.496 275.866 52.1067 276.89 49.632C277.914 47.072 279.279 44.7253 280.986 42.592C282.693 40.3733 284.527 38.7093 286.49 37.6L319.77 18.4L330.778 24.8Z" fill="white"/>-->
<!--          <path class="p" d="M200.79 50.4L211.926 44V100.32L234.07 87.52V31.2L245.078 24.8V93.92L234.07 100.32V87.52C234.07 89.7387 233.558 92.128 232.534 94.688C231.51 97.248 230.145 99.6373 228.438 101.856C226.731 103.989 224.897 105.611 222.934 106.72L211.926 113.12C208.939 114.827 206.337 115.04 204.118 113.76C201.899 112.48 200.79 110.133 200.79 106.72V50.4ZM234.07 87.52V100.32L222.934 93.92V81.12L234.07 87.52ZM245.078 24.8L234.07 31.2L222.934 24.8L234.07 18.4L245.078 24.8ZM234.07 31.2V87.52L222.934 81.12V24.8L234.07 31.2ZM211.926 44L200.79 50.4L189.654 44L200.79 37.6L211.926 44ZM234.07 87.52L211.926 100.32L200.79 93.92L222.934 81.12L234.07 87.52ZM200.79 50.4V106.72C200.79 110.133 201.899 112.48 204.118 113.76L192.982 107.36C190.763 106.08 189.654 103.733 189.654 100.32V44L200.79 50.4Z" fill="white"/>-->
<!--          <path class="p" d="M97.34 45.28L108.476 38.88V51.68C108.476 49.376 108.988 46.9867 110.012 44.512C111.036 41.952 112.359 39.6053 113.98 37.472C115.687 35.2533 117.521 33.5893 119.484 32.48L122.812 30.56C125.799 28.8533 128.401 28.64 130.62 29.92C132.839 31.2 133.948 33.5467 133.948 36.96C133.948 34.656 134.46 32.2667 135.484 29.792C136.508 27.232 137.831 24.8853 139.452 22.752C141.159 20.5333 142.993 18.8693 144.956 17.76L148.284 15.84C151.271 14.1333 153.873 13.92 156.092 15.2C158.311 16.48 159.42 18.8267 159.42 22.24V78.56L148.284 84.96V28.64L133.948 36.96V93.28L122.812 99.68V43.36L108.476 51.68V108L97.34 114.4V45.28ZM148.284 28.64V84.96L137.276 78.56V22.24L148.284 28.64ZM122.812 43.36V99.68L111.676 93.28V36.96L122.812 43.36ZM156.092 15.2C153.873 13.92 151.271 14.1333 148.284 15.84L144.956 17.76C142.993 18.8693 141.159 20.5333 139.452 22.752C137.831 24.8853 136.508 27.232 135.484 29.792C134.46 32.2667 133.948 34.656 133.948 36.96L122.812 30.56C122.812 28.256 123.324 25.8667 124.348 23.392C125.372 20.832 126.737 18.4853 128.444 16.352C130.151 14.1333 131.985 12.4693 133.948 11.36L137.276 9.43999C140.177 7.73333 142.737 7.52 144.956 8.79999L156.092 15.2ZM97.34 45.28V114.4L86.204 108V38.88L97.34 45.28ZM130.62 29.92C128.401 28.64 125.799 28.8533 122.812 30.56L119.484 32.48C117.521 33.5893 115.687 35.2533 113.98 37.472C112.359 39.6053 111.036 41.952 110.012 44.512C108.988 46.9867 108.476 49.376 108.476 51.68L97.34 45.28C97.34 42.976 97.852 40.5867 98.876 38.112C99.9 35.552 101.265 33.2053 102.972 31.072C104.679 28.8533 106.513 27.1893 108.476 26.08L111.676 24.16C114.663 22.4533 117.265 22.24 119.484 23.52L130.62 29.92ZM108.476 38.88L97.34 45.28L86.204 38.88L97.34 32.48L108.476 38.88Z" fill="white"/>-->
<!--          <path class="p" d="M28.28 92V53.6L11.64 63.2V50.4L55.928 24.8V37.6L39.288 47.2V85.6L55.928 76V88.8L11.64 114.4V101.6L28.28 92ZM33.784 26.08C31.5653 27.36 29.688 27.5733 28.152 26.72C26.7013 25.8667 25.976 24.16 25.976 21.6C25.976 19.04 26.7013 16.48 28.152 13.92C29.688 11.36 31.5653 9.44 33.784 8.16C36.0027 6.88 37.8373 6.66666 39.288 7.52C40.824 8.37333 41.592 10.08 41.592 12.64C41.592 15.2 40.824 17.76 39.288 20.32C37.8373 22.88 36.0027 24.8 33.784 26.08ZM28.28 92L11.64 101.6L0.503998 95.2L17.144 85.6L28.28 92ZM11.64 101.6V114.4L0.503998 108V95.2L11.64 101.6ZM55.928 76L39.288 85.6L28.28 79.2L44.92 69.6L55.928 76ZM28.28 53.6V92L17.144 85.6V47.2L28.28 53.6ZM55.928 24.8L11.64 50.4L0.503998 44L44.92 18.4L55.928 24.8ZM11.64 50.4V63.2L0.503998 56.8V44L11.64 50.4ZM39.416 7.52C37.88 6.66666 36.0027 6.88 33.784 8.16C31.5653 9.44 29.688 11.36 28.152 13.92C26.7013 16.48 25.976 19.04 25.976 21.6C25.976 24.16 26.744 25.8667 28.28 26.72L17.144 20.32C15.6933 19.4667 14.968 17.76 14.968 15.2C14.968 12.64 15.6933 10.08 17.144 7.52C18.5947 4.95999 20.472 3.03999 22.776 1.75999C24.9947 0.479996 26.8293 0.266663 28.28 1.12L39.416 7.52Z" fill="white"/>-->
<!--        </svg>-->
<!--        <svg class="icon" width="149" height="42" viewBox="0 0 149 42" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--          <path class="p" d="M130.149 32.664C128.485 32.664 127.12 32.28 126.053 31.512C124.986 30.744 124.176 29.784 123.621 28.632C123.109 27.4373 122.853 26.2213 122.853 24.984C122.853 23.576 123.173 22.2107 123.813 20.888C124.453 19.5227 125.242 18.2427 126.181 17.048C127.12 15.8533 128.037 14.7867 128.933 13.848C131.194 11.5013 133.306 9.77333 135.269 8.664C137.274 7.55467 138.874 7 140.069 7C141.264 7 142.16 7.192 142.757 7.576C143.354 7.96 143.76 8.42933 143.973 8.984C144.229 9.53867 144.378 10.0507 144.421 10.52C144.506 11.288 144.4 11.928 144.101 12.44C143.802 12.9093 143.397 13.144 142.885 13.144C142.416 13.144 141.946 12.9307 141.477 12.504C141.008 12.0773 140.602 11.608 140.261 11.096C139.152 11.352 138.192 11.608 137.381 11.864C136.57 12.0773 135.781 12.4187 135.013 12.888C134.288 13.3147 133.434 13.9547 132.453 14.808C130.704 16.3867 129.189 18.0507 127.909 19.8C126.672 21.5493 126.053 23.4267 126.053 25.432C126.053 28.1627 127.461 29.528 130.277 29.528C132.112 29.528 134.01 29.0587 135.973 28.12C137.936 27.1387 139.642 25.88 141.093 24.344C141.434 24.0027 141.818 23.832 142.245 23.832C142.586 23.832 142.864 23.9387 143.077 24.152C143.333 24.3653 143.461 24.6427 143.461 24.984C143.461 25.368 143.29 25.7093 142.949 26.008C140.901 27.9707 138.853 29.5707 136.805 30.808C134.8 32.0453 132.581 32.664 130.149 32.664Z" fill="white"/>-->
<!--          <path class="p" d="M122.647 6.488C122.434 6.744 122.156 6.76533 121.815 6.552C121.516 6.33867 121.26 6.01867 121.047 5.592C120.834 5.12267 120.77 4.67467 120.855 4.248H120.919C121.09 3.608 121.303 3.07467 121.559 2.648C121.815 2.22133 122.156 1.79467 122.583 1.368C122.839 1.112 123.18 0.984001 123.607 0.984001C123.991 0.984001 124.332 1.112 124.631 1.368C124.972 1.58133 125.143 1.85867 125.143 2.2C125.143 2.37067 125.079 2.56267 124.951 2.776C124.823 2.94667 124.567 3.39467 124.183 4.12C123.842 4.84533 123.33 5.63467 122.647 6.488ZM114.583 30.104C113.9 30.104 113.218 29.848 112.535 29.336C111.895 28.7813 111.639 27.9067 111.767 26.712C111.938 25.048 112.172 23.64 112.471 22.488C112.77 21.336 113.111 20.2907 113.495 19.352C113.879 18.3707 114.284 17.3253 114.711 16.216C115.18 15.1067 115.65 13.7627 116.119 12.184C116.375 11.4587 116.908 11.096 117.719 11.096C118.274 11.096 118.764 11.2667 119.191 11.608C119.618 11.9493 119.746 12.4187 119.575 13.016C119.02 14.808 118.466 16.2587 117.911 17.368C117.356 18.4773 116.844 19.4587 116.375 20.312C115.906 21.1227 115.5 22.0187 115.159 23C114.86 23.9387 114.668 25.1547 114.583 26.648C114.583 26.776 114.86 27.0533 115.415 27.48C115.97 27.864 116.247 28.312 116.247 28.824C116.247 29.208 116.034 29.5493 115.607 29.848C115.394 30.0187 115.052 30.104 114.583 30.104Z" fill="white"/>-->
<!--          <path class="p" d="M87.868 33.496C87.5693 33.496 87.228 33.4747 86.844 33.432C86.5027 33.3893 86.14 33.3253 85.756 33.24C85.2013 33.112 84.924 32.7067 84.924 32.024C84.924 31.64 85.0733 31.2987 85.372 31C85.6707 30.6587 86.0973 30.5307 86.652 30.616C87.1213 30.6587 87.868 30.552 88.892 30.296C89.9587 30.04 91.132 29.6987 92.412 29.272C94.2893 28.5893 95.8253 27.864 97.02 27.096C98.2147 26.328 99.196 25.432 99.964 24.408C100.775 23.384 101.18 22.4027 101.18 21.464C101.18 21.0373 101.095 20.632 100.924 20.248C100.753 19.8213 100.433 19.416 99.964 19.032C99.2387 18.392 98.364 17.7947 97.34 17.24C96.316 16.6853 95.3133 16.1093 94.332 15.512C93.3507 14.872 92.5187 14.168 91.836 13.4C91.196 12.5893 90.876 11.608 90.876 10.456C90.876 9.432 91.2387 8.55734 91.964 7.832C92.6893 7.064 93.5213 6.44533 94.46 5.976C95.4413 5.464 96.2733 5.10133 96.956 4.888C97.6387 4.67467 98.3213 4.52533 99.004 4.44C99.6867 4.312 100.369 4.248 101.052 4.248C101.863 4.248 102.631 4.35467 103.356 4.568C104.124 4.73867 104.849 5.05867 105.532 5.528C105.916 5.784 106.193 6.08267 106.364 6.424C106.535 6.76533 106.62 7.10667 106.62 7.448C106.62 7.91733 106.471 8.344 106.172 8.728C105.916 9.06933 105.553 9.24 105.084 9.24C104.743 9.24 104.295 9.06933 103.74 8.728H103.804C102.865 8.04533 101.777 7.704 100.54 7.704C99.8573 7.704 99.2387 7.78933 98.684 7.96C97.788 8.17333 96.9133 8.45067 96.06 8.792C95.2067 9.13333 94.6733 9.66667 94.46 10.392C94.332 10.9467 94.652 11.5653 95.42 12.248C96.2307 12.888 97.2333 13.5493 98.428 14.232C99.6227 14.872 100.732 15.512 101.756 16.152C102.737 16.7067 103.527 17.4533 104.124 18.392C104.721 19.3307 105.02 20.3333 105.02 21.4C105.02 22.7227 104.529 24.0027 103.548 25.24C101.969 27.16 100.327 28.6533 98.62 29.72C96.956 30.7867 95.0787 31.6613 92.988 32.344C91.836 32.728 90.876 33.0053 90.108 33.176C89.34 33.3893 88.5933 33.496 87.868 33.496Z" fill="white"/>-->
<!--          <path class="p" d="M68.804 29.272C68.0787 29.272 67.332 29.1653 66.564 28.952C65.796 28.7387 65.028 28.4187 64.26 27.992C62.852 27.1813 61.8707 26.136 61.316 24.856C60.7613 23.576 60.484 22.2107 60.484 20.76C60.484 20.0773 60.5267 19.416 60.612 18.776C60.6973 18.0933 60.8253 17.4107 60.996 16.728C61.3373 15.32 61.9347 14.04 62.788 12.888C63.6413 11.6933 64.6013 10.6907 65.668 9.88C66.7347 9.06933 67.7587 8.55733 68.74 8.344C68.868 8.30133 69.0387 8.28 69.252 8.28C69.8493 8.28 70.34 8.45067 70.724 8.792C71.108 9.13333 71.3 9.51733 71.3 9.944C71.3 10.456 71.0013 10.8613 70.404 11.16V11.224C69.4227 11.6507 68.548 12.0987 67.78 12.568C67.0547 12.9947 66.4147 13.592 65.86 14.36C65.3053 15.128 64.7933 16.2373 64.324 17.688C64.068 18.456 63.94 19.48 63.94 20.76C63.94 21.7413 64.068 22.68 64.324 23.576C64.6227 24.4293 65.1133 25.0053 65.796 25.304C66.5213 25.6027 67.2893 25.752 68.1 25.752C69.8493 25.752 71.5773 25.1547 73.284 23.96C74.9907 22.7227 76.5053 21.4427 77.828 20.12C79.0227 18.9253 80.132 17.5813 81.156 16.088C82.2227 14.552 83.1187 13.144 83.844 11.864C84.5693 10.5413 84.996 9.58133 85.124 8.984C85.2947 8.25867 85.764 7.896 86.532 7.896C87.0013 7.896 87.428 8.088 87.812 8.472C88.196 8.81333 88.3027 9.28266 88.132 9.88C87.876 10.776 87.364 11.9493 86.596 13.4C85.8707 14.8507 84.9747 16.3653 83.908 17.944C82.884 19.48 81.796 20.888 80.644 22.168C79.7053 23.2347 78.6173 24.3227 77.38 25.432C76.1427 26.4987 74.7987 27.416 73.348 28.184C71.8973 28.9093 70.3827 29.272 68.804 29.272Z" fill="white"/>-->
<!--          <path class="p" d="M52.662 31.896C51.5953 31.896 50.8487 31.4907 50.422 30.68C50.038 29.8693 49.846 28.888 49.846 27.736C49.846 26.2427 50.0807 24.6853 50.55 23.064C51.0193 21.4 51.4887 20.0347 51.958 18.968C53.0247 16.5787 53.558 15 53.558 14.232C53.558 13.6347 53.2807 13.336 52.726 13.336C52.598 13.336 52.4487 13.336 52.278 13.336C52.15 13.336 52.0007 13.3787 51.83 13.464C50.6353 13.8053 49.2487 14.488 47.67 15.512C46.134 16.536 44.598 17.688 43.062 18.968C41.526 20.248 40.2033 21.5067 39.094 22.744C38.4967 23.4267 37.942 24.216 37.43 25.112C36.918 26.008 36.5127 26.6267 36.214 26.968C35.7447 27.5227 35.19 27.8 34.55 27.8C34.1233 27.8 33.7393 27.6507 33.398 27.352C33.0993 27.0107 33.014 26.4987 33.142 25.816C33.4833 23.8107 33.718 22.552 33.846 22.04C33.974 21.4853 34.0593 21.208 34.102 21.208V20.568C34.102 19.544 34.038 18.584 33.91 17.688C33.8247 16.7493 33.6113 16.024 33.27 15.512C32.9713 15 32.502 14.8507 31.862 15.064C30.71 15.4053 29.3873 16.088 27.894 17.112C26.4007 18.136 24.9287 19.288 23.478 20.568C22.0273 21.848 20.79 23.0427 19.766 24.152C18.6993 25.3467 18.0167 26.328 17.718 27.096C17.462 27.864 17.334 28.248 17.334 28.248C16.95 28.6747 16.5873 28.888 16.246 28.888C15.4353 28.888 15.03 28.1627 15.03 26.712C15.03 25.432 15.2647 23.9813 15.734 22.36C16.2033 20.7387 16.7793 19.1387 17.462 17.56C18.1873 15.9387 18.8487 14.5307 19.446 13.336C19.83 12.6533 20.3633 12.312 21.046 12.312C21.5153 12.312 21.8993 12.4827 22.198 12.824C22.5393 13.1653 22.6673 13.6347 22.582 14.232C22.582 14.488 22.326 15 21.814 15.768C21.302 16.4933 20.7687 17.3893 20.214 18.456C19.702 19.48 19.382 20.5893 19.254 21.784C19.7233 21.0587 20.1287 20.5467 20.47 20.248C20.854 19.9067 21.3233 19.4587 21.878 18.904C23.0727 17.7093 24.0967 16.7707 24.95 16.088C25.846 15.4053 26.7847 14.808 27.766 14.296C28.7473 13.784 29.9633 13.208 31.414 12.568C31.798 12.3547 32.2033 12.184 32.63 12.056C33.0567 11.928 33.4833 11.864 33.91 11.864C34.5927 11.864 35.2113 12.12 35.766 12.632C36.3207 13.1013 36.7687 13.9547 37.11 15.192C37.494 16.4293 37.6647 18.2213 37.622 20.568C38.2193 20.0987 38.7313 19.6293 39.158 19.16C39.6273 18.648 40.1393 18.1147 40.694 17.56C41.9313 16.3227 43.0193 15.32 43.958 14.552C44.9393 13.7413 45.9633 13.0373 47.03 12.44C48.1393 11.8 49.462 11.1387 50.998 10.456C51.4673 10.2427 52.022 10.0507 52.662 9.88C53.302 9.66666 53.9207 9.56 54.518 9.56C55.2433 9.56 55.8833 9.77333 56.438 10.2C56.9927 10.6267 57.27 11.416 57.27 12.568C57.27 13.336 57.1207 14.296 56.822 15.448C56.566 16.5573 56.0753 17.9227 55.35 19.544C54.71 21.0373 54.1553 22.6373 53.686 24.344C53.2593 26.0507 52.9607 27.4587 52.79 28.568C53.2593 29.2507 53.494 29.9973 53.494 30.808C53.494 31.1067 53.43 31.3627 53.302 31.576C53.174 31.7893 52.9607 31.896 52.662 31.896Z" fill="white"/>-->
<!--          <path class="p" d="M15.272 6.488C15.0587 6.744 14.7813 6.76533 14.44 6.552C14.1413 6.33867 13.8853 6.01867 13.672 5.592C13.4587 5.12267 13.3947 4.67467 13.48 4.248H13.544C13.7147 3.608 13.928 3.07467 14.184 2.648C14.44 2.22133 14.7813 1.79467 15.208 1.368C15.464 1.112 15.8053 0.984001 16.232 0.984001C16.616 0.984001 16.9573 1.112 17.256 1.368C17.5973 1.58133 17.768 1.85867 17.768 2.2C17.768 2.37067 17.704 2.56267 17.576 2.776C17.448 2.94667 17.192 3.39467 16.808 4.12C16.4667 4.84533 15.9547 5.63467 15.272 6.488ZM7.20799 30.104C6.52532 30.104 5.84265 29.848 5.15999 29.336C4.51999 28.7813 4.26399 27.9067 4.39199 26.712C4.56265 25.048 4.79732 23.64 5.09599 22.488C5.39465 21.336 5.73599 20.2907 6.11999 19.352C6.50399 18.3707 6.90932 17.3253 7.33599 16.216C7.80532 15.1067 8.27465 13.7627 8.74399 12.184C8.99999 11.4587 9.53332 11.096 10.344 11.096C10.8987 11.096 11.3893 11.2667 11.816 11.608C12.2427 11.9493 12.3707 12.4187 12.2 13.016C11.6453 14.808 11.0907 16.2587 10.536 17.368C9.98132 18.4773 9.46932 19.4587 8.99999 20.312C8.53065 21.1227 8.12532 22.0187 7.78399 23C7.48532 23.9387 7.29332 25.1547 7.20799 26.648C7.20799 26.776 7.48532 27.0533 8.03999 27.48C8.59465 27.864 8.87199 28.312 8.87199 28.824C8.87199 29.208 8.65865 29.5493 8.23199 29.848C8.01865 30.0187 7.67732 30.104 7.20799 30.104Z" fill="white"/>-->
<!--        </svg>-->
<!--      </div>-->
      <div class="resizer" @mousedown="startResize"></div>
    </el-aside>
    <el-main class="el-main" :style="{ marginLeft: asideWidth + 'px', '--width': asideWidth+'px', '--el-aside-right-width': $store.state.common.isShowRightBox ? '320px':'0px' }">
      <keep-alive>
        <router-view :key="key" />
      </keep-alive>
      <el-footer style="margin: 40px 0 0 0;">
        <Footer />
      </el-footer>
      <div class="UserInfoFloat"
             @mouseover="isShowFloatBox"
             @mouseleave="isHiddenFloatBox"
             :style="{top: `${getY}px`, left: `${getX}px` }"
             v-show="getIsFocus">
          <div style="display: flex; margin-bottom: 5px; align-items: center;">
            <el-avatar :src="focusUser?.avatar"></el-avatar>
            <p style="margin-left: 10px;">{{focusUser?.name}}</p>
          </div>
          <div style="font-size: 13px; color: #848484; margin-bottom: 10px;">@{{focusUser?.account}}</div>
          <div>
            {{focusUser?.sign}}
          </div>
        </div>
    </el-main>
    <el-aside v-show="isShowRightBox" class="el-aside-right">
      <PlayList />
    </el-aside>
  </el-container>
</template>

<script>
import Navbar from '@/components/layout/NavBar.vue'
import Footer from '@/components/layout/Footer.vue'
import PlayList from '@/components/layout/PlayList.vue'
import { mapActions, mapGetters, mapMutations, mapState } from 'vuex'

export default {
  name: 'LayoutIndex',
  components: { Navbar, Footer, PlayList },
  computed: {
    ...mapState('common', ['asideWidth', 'isFocus', 'focusUser']),
    ...mapGetters('common', ['getY', 'getX', 'getIsFocus']),
    key () { return this.$route.fullPath || 'default-route' },
    isShowRightBox () { return this.$store.state.common.isShowRightBox }
  },
  data () {
    return {
      isResizing: false
    }
  },
  methods: {
    ...mapActions('user', ['getUserAndSetting']),
    ...mapMutations('common', ['setAsideWidth', 'setIsFocus']),
    startResize () {
      // 开始拖动时设置标记
      this.isResizing = true
      document.addEventListener('mousemove', this.resize)
      document.addEventListener('mouseup', this.stopResize)
    },
    resize (event) {
      if (this.isResizing) {
        // 获取鼠标位置并更新 aside 的宽度
        const newWidth = event.clientX
        // 当宽度小于等于200px时，直接设置为100px
        if (newWidth <= 160) {
          this.setAsideWidth(80)
          document.querySelector('.el-main').style.setProperty('--width', '80px')
        } else if (newWidth > 300) {
          this.setAsideWidth(400)
          document.querySelector('.el-main').style.setProperty('--width', '400px')
        } else {
          this.setAsideWidth(newWidth)
          document.querySelector('.el-main').style.setProperty('--width', `${newWidth}px`)
        }
      }
    },
    stopResize () {
      // 停止拖动，移除事件监听
      this.isResizing = false
      document.removeEventListener('mousemove', this.resize)
      document.removeEventListener('mouseup', this.stopResize)
    },
    isShowFloatBox () {
      this.setIsFocus(true)
    },
    isHiddenFloatBox () {
      this.setIsFocus(false)
    }
  },
  mounted () {
    this.getUserAndSetting()
    const paths = document.querySelectorAll('.icon .p')
    paths.forEach((path) => {
      const len = path.getTotalLength()
      path.style.setProperty('--l', len)
    })
  },
  created () {
    // this.$EventBus.$on('focusAvatar', ({ userInfo, x, y }) => {
    //   document.querySelector('.UserInfoFloat').style.setProperty('--width', `${x}px`)
    //   document.querySelector('.UserInfoFloat').style.setProperty('--height', `${y}px`)
    // })
  }
}
</script>

<style scoped lang="scss">
@import "@/assets/scss/mixin";
.component-fade-enter-active, .component-fade-leave-active {
  transition: opacity .2s ease;
}
.component-fade-enter, .component-fade-leave-to{
  opacity: 0;
}
.container{
  width: 100%;
  .el-aside{
    height: 100vh;
    position: fixed;
    display: flex;
    flex-direction: column;
    background-color: var(--aside-background-color);
    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);
    border-right-color: var(--border-color);
    border-style: solid;
    border-width: 0 0.0625rem 0 0;
    .p{
      stroke: #409EFF;
      stroke-width: 1;
      stroke-dasharray: var(--l);
      stroke-dashoffset: var(--l);
      fill: none;
      stroke-linecap: round;
      animation: stroke 4s forwards;
    }
    @keyframes stroke {
      to {
        stroke-dashoffset: 0;
      }
    }
    @include respond-to('phone'){
      //display: none;
      width: 80px;
    }
    @include respond-to('tv'){
      width: 250px;
    }
    .resizer {
      width: 4px;
      cursor: grab;
      position: absolute;
      right: 0;
      top: 0;
      height: 100%;
      transition: all .1s linear;
      &:hover{
        background-color: rgba(134, 134, 134, 0.2);
      }
    }
  }
  .el-main{
    overflow: hidden;
    position: relative;
    max-width: calc(100vw - var(--width) - var(--el-aside-right-width));
    padding: 0 0 0 0;
    background-color: var(--main-background-color);
    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);
    border-right-color: var(--border-color);
    border-style: solid;
    border-width: 0 0.0625rem 0 0;
  }
  .el-aside-right{
    height: 100vh;
    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);
    border-left-color: var(--border-color);
    border-style: solid;
    border-width: 0 0 0 0.0625rem;
    right: 0;
    z-index: 999;
  }
}
.UserInfoFloat{
  width: 300px;
  height: 150px;
  background-color: var(--aside-background-color);
  pointer-events: auto;
  position: fixed;
  color: var(--text-color);
  z-index: 10000;
  border-radius: 4px;
  padding: 10px 10px;
  transition: all .5s ease-out;
}
</style>
